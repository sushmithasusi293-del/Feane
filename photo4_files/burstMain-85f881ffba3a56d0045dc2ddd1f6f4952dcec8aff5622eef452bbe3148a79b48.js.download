(self.webpackChunk_SK=self.webpackChunk_SK||[]).push([["burstMain"],{"./app/javascripts/index.burst.js":(e,t,o)=>{"use strict";var a=o("../caches/app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),n=o("../caches/app/node_modules/jquery/dist/jquery.js"),r=o.n(n),i=o("../caches/app/node_modules/url-search-params/build/url-search-params.node.js"),s=o("../caches/app/node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),c=o("../caches/app/node_modules/@shopify/dux/dist/index.js"),l=o("../caches/app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),d=o("../caches/app/node_modules/@babel/runtime/helpers/esm/createClass.js"),u=o("../caches/app/node_modules/just-extend/index.mjs");class p extends Error{constructor(e,t){super(e),this.name="FetchWrapperError",this.response=void 0,Object.setPrototypeOf(this,p.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p),this.response=t}}const h=document.querySelector('meta[name="csrf-token"]'),m=window?`${window.location.protocol}//${window.location.host}`:void 0,f=new class{constructor(e){this.globalOptions={headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*"}},this.globalOptions=this.mergeOptions(e)}mergeOptions(e){return(0,u.A)(!0,{},this.globalOptions,e)}async callFetch(e,t){const o=this.mergeOptions(t),a=-1===e.indexOf("http")&&o.defaultHost?`${o.defaultHost}${e}`:e,n=await fetch(a,o),r={data:await this.parseResponseData(n),body:n.body,status:n.status,statusText:n.statusText};if(r.status>=400)throw new p(`Request failed with status code ${r.status}`,r);return r}prepareData(e={},t){const{headers:o}=t;if(void 0===e)return;switch(void 0===o?"application/json":o["Content-Type"]||o["content-type"]||"application/json"){case"application/x-www-form-urlencoded":return new URLSearchParams(e);case"application/json":return JSON.stringify(e);default:return e}}async parseResponseData(e){let t;const o=e.headers.get("Content-Type");return o?(o.indexOf("application/json")>-1?t=await e.json():o.indexOf("text/")>-1&&(t=await e.text()),t):t}async get(e,t){const o={...t};return o.method="GET",this.callFetch(e,o)}async delete(e,t){const o={...t};return o.method="DELETE",this.callFetch(e,o)}async head(e,t){const o={...t};return o.method="HEAD",this.callFetch(e,o)}async options(e,t){const o={...t};return o.method="OPTIONS",this.callFetch(e,o)}async post(e,t,o){const a={...o};return a.method="POST",a.body=this.prepareData(t,a),this.callFetch(e,a)}async put(e,t,o){const a={...o};return a.method="PUT",a.body=this.prepareData(t,a),this.callFetch(e,a)}async patch(e,t,o){const a={...o};return a.method="PATCH",a.body=this.prepareData(t,a),this.callFetch(e,a)}}({headers:{"X-CSRF-Token":h?h.getAttribute("content"):"no-csrf-token"},defaultHost:m});var b=window.location.pathname.includes("business-ideas"),g=0===document.referrer.indexOf("".concat(location.protocol,"//").concat(location.host)),_=g?"":document.referrer,v=g?document.referrer:"",y=window.location.hostname.split(".").pop(),w=function(e){return e?"photo":b?"business ideas":"subscriber box"},k=function(e){return e||(b?window.location.pathname.split("/").pop():window.location.href)};const S=function(e,t,o){var a=e.querySelector(".subscribe__email").value,n=t.getIsSubscribedToEmailUpdate()?1:0;f.post("/stock-photos/email-subscription-event",{email:a,externalReferer:_,internalReferer:v,urlLocale:y,sourceType:w(o),source:k(o),signupUrl:window.location.href,signupPage:window.location.pathname,browserLocale:navigator.language,deviceType:navigator.userAgent,updateOptin:n}).catch((function(e){window.bugsnagClient&&window.bugsnagClient.notify("Failed to send data to monorail ".concat(e,"."))}))};var j="subscribed",x={setIsSubscribedToEmailUpdate:function(e){var t=new Date(Date.now()+31536e7);s.b4.set(j,Boolean(e),{expires:t.toUTCString(),path:"/"})},getIsSubscribedToEmailUpdate:function(){return s.b4.get(j)}};const T=x;var C="external_referrer",E="internal_referrer",I=document.referrer,q=new Date(Date.now()+31536e7);function A(){return s.b4.get(C)}const L={setReferrer:function(){I&&0===I.indexOf("".concat(location.protocol,"//").concat(location.host))?s.b4.set(E,I.replace("".concat(location.protocol,"//").concat(location.host),""),{expires:q.toUTCString(),path:"/"}):A()||s.b4.set(C,I,{expires:q.toUTCString(),path:"/"})},getExternalReferrer:function(){return A()},getInternalReferrer:function(){return s.b4.get(E)}};const U=function(){return(0,d.A)((function e(t){var o=this;(0,l.A)(this,e),t&&(this.templateHtml=t,this.modal=new s.aF([],(function(){return o.templateHtml.outerHTML}),{preventEventDefault:!1,afterModalRender:this._afterModalRender.bind(this)}))}),[{key:"open",value:function(e){if(this.success=e.success,this.skipped=e.skipped,this.data=e.data,!this.templateHtml)throw new Error("Couldn't open modal because the supplied modal template could not be found in the DOM");this.templateHtml.querySelector(".membership-waitlist-modal__image").style.backgroundImage="url(".concat(e.imageUrl,")"),this.templateHtml.querySelector(".membership-waitlist-modal__heading").textContent=e.heading,this.templateHtml.querySelector(".subscribe__success__heading")&&(this.templateHtml.querySelector(".subscribe__success__heading").textContent=e.successHeading),this.templateHtml.querySelector(".subscribe__submit").textContent=e.cta,e.secondaryCta?(this.templateHtml.querySelector(".membership-waitlist-modal__secondary-cta").value=e.secondaryCta,this.templateHtml.querySelector(".membership-waitlist-modal__secondary-cta").classList.remove("hidden")):this.templateHtml.querySelector(".membership-waitlist-modal__secondary-cta").classList.add("hidden"),this.modal.open()}},{key:"_afterModalRender",value:function(e){var t=this,o=e.querySelector(".js-subscribe-with-tracker");new s.Jz(o,{onSuccess:function(){var o=e.querySelector(".subscribe__form");T.setIsSubscribedToEmailUpdate(!0),S(o,T,t.data),t.modal.close(),t.success()}}),e.querySelector(".membership-waitlist-modal__secondary-cta").addEventListener("click",(function(){t.modal.close(),t.skipped()}))}}])}();var O=Object.freeze({TILE_CLICK:{name:"tile_click",triggerEvent:"click",nonInteraction:!1},TILE_VIEW:{name:"tile_view",triggerEvent:"lazybeforeunveil",nonInteraction:!0}}),P=(0,d.A)((function e(t,o){(0,l.A)(this,e),t.on(o.triggerEvent,(function(){var e=t.data("photoId");trackTealium({category:"PhotoStat",action:o.name,label:e.toString(),value:o.value,page_locale:window.Burst.urlLocale,page_variation:window.Burst.abTestGroup})}))}));function W(e){var t=this;this.$carousel=e,this.$contentWrapper=this.$carousel.find(".js-scrollable-carousel-content-wrapper"),this.$previous=this.$carousel.find(".js-previous"),this.$next=this.$carousel.find(".js-next"),this.$images=this.$contentWrapper.find("img"),this.onAllImagesHaveClientWidth((function(){t.setWidth(),t.handleScroll()})),this.$contentWrapper.on("scroll",s.Wp.debounce(this.handleScroll.bind(this),100)),r()(window).on("resize",s.Wp.debounce(this.setWidth.bind(this),100)),this.$next.on("click",this.handleNext.bind(this)),this.$previous.on("click",this.handlePrevious.bind(this))}W.prototype.handleScroll=function(){var e=this.$contentWrapper[0].scrollLeft,t=this.$contentWrapper[0].scrollWidth;e<=5?this.$previous.prop("disabled",!0):this.$previous.prop("disabled",!1),e>=t-this.contentWrapperWidth-5?this.$next.prop("disabled",!0):this.$next.prop("disabled",!1)},W.prototype.setWidth=function(){this.contentWrapperWidth=this.$contentWrapper[0].clientWidth;var e=this.$contentWrapper[0].scrollWidth;this.contentWrapperWidth<e?this.$next.prop("disabled",!1):this.$next.prop("disabled",!0)},W.prototype.handleNext=function(){this.$contentWrapper.animate({scrollLeft:this.$contentWrapper[0].scrollLeft+this.contentWrapperWidth-150},{duration:300,queue:!1})},W.prototype.handlePrevious=function(){this.$contentWrapper.animate({scrollLeft:this.$contentWrapper[0].scrollLeft-this.contentWrapperWidth+150},{duration:300,queue:!1})},W.prototype.onAllImagesHaveClientWidth=function(e){this.checkImageWidthInterval=500,this.checkImageWidthTimeout=3e3,this.timePassedSinceInitialization=0,this.callback=e,0!==this.$images.length?this.runImageWidthChecker():e()},W.prototype.runImageWidthChecker=function(){this.timePassedSinceInitialization+=this.checkImageWidthInterval,this.checkAllImagesHaveClientWidth()||this.timePassedSinceInitialization>=this.checkImageWidthTimeout?this.callback():setTimeout(this.runImageWidthChecker.bind(this),this.checkImageWidthInterval)},W.prototype.checkAllImagesHaveClientWidth=function(){var e=!0;return this.$images.each((function(t,o){0!==o.clientWidth&&void 0!==o.clientWidth||(e=!1)})),e};const $=W;o("../caches/app/node_modules/jquery-typeahead/dist/jquery.typeahead.min.js");function H(e){var t=this;this.$form=e,this.handleSubmit.bind(this),this.$form.on("submit",this.handleSubmit),this.$form.find(".js-typeahead").typeahead({maxItem:8,maxItemPerGroup:5,cancelButton:!1,group:{template:"{{group}}"},source:{photos:{minLength:1,data:window.Burst.searchAutocompleteSuggestions,href:function(e){return"/stock-photos/photos/search?q=".concat(encodeURIComponent(e.display))}},photographers:{minLength:3,display:["name","username"],data:window.Burst.searchPhotographerSuggestions,href:function(e){return e.url},template:'{{name}} <span class="search-form__suggestion-misc">@{{username}}</span>'}},callback:{onShowLayout:function(){t.$form.find(".search-form__suggestions-wrapper").show()},onHideLayout:function(){t.$form.find(".search-form__suggestions-wrapper").hide()}},selector:{result:"search-form__suggestions-wrapper",list:"search-form__suggestions-list",item:"search-form__suggestion",group:"search-form__group-header"}})}H.prototype.handleSubmit=function(e){var t=r()(e.currentTarget).find('[name="q"]');r().trim(t.val())||e.preventDefault()};const z=H;var D=o("../caches/app/node_modules/@babel/runtime/helpers/esm/defineProperty.js");function F(e){var t=e;return 0===e.indexOf("//")&&(t=location.protocol+e),t.toLowerCase().replace(/([a-z])?:\/\//,"$1").split("/")[0]}const R=function(){return(0,d.A)((function e(t){var o=this;(0,l.A)(this,e),(0,D.A)(this,"TILE_OVERLAY_VISIBLE_CLASS","tile__overlay--is-visible"),this.$element=t;var a=t.find(".tile__overlay"),n=t.find(".tile__overlay-trigger"),r=t.find(".tile__overlay-close");n.on("click",(function(){o.renderCredit(),a.addClass(o.TILE_OVERLAY_VISIBLE_CLASS)})),r.on("click",(function(){a.removeClass(o.TILE_OVERLAY_VISIBLE_CLASS)}))}),[{key:"renderCredit",value:function(){var e,t,o=this.$element.find(".give-credit"),a=o.data(),n=a.authorName,i=a.creditAuthorUrl,c=a.creditCategoryUrl,l=r()("<a>").attr("href",c).text("Burst").prop("outerHTML");if(i){var d=r()("<a>").attr("href",i).text(n);((t=i).indexOf(":")>-1||t.indexOf("//")>-1)&&F(location.href)!==F(t)&&d.attr({rel:"nofollow noopener",target:"_blank"}),e=d.prop("outerHTML")}else e=n;o.find("[data-text-give-credit]").text(s.Ru.t("stock_photos.index.credit.give_credit",{author:n})),o.find("[data-text-credit-html]").append(s.Ru.t("stock_photos.index.credit.credit_html",{author:e,burst:l}))}}])}();var M=o("../caches/app/node_modules/dropzone/dist/dropzone.js"),N=o.n(M);function B(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function G(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?B(Object(o),!0).forEach((function(t){(0,D.A)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):B(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const V=function(){return(0,d.A)((function e(t,o,a,n){var i=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};(0,l.A)(this,e),this.$template=r()(t),this.options=G(G({},{paramName:function(){return"image_files[]"},params:null,maxFiles:10,parallelUploads:10,acceptedFiles:".jpg,.jpeg",maxFilesize:30}),a),this._updatePrompt=this._updatePrompt.bind(this);var c=this.$template.find(".dropzone-preview-template .dropzone-preview");this.options.parallelUploads<this.options.maxFiles&&c.addClass("dropzone-preview--parallel-upload"),this.dropzone=new(N())(t,G(G({},this.options),{},{url:o,maxThumbnailFilesize:this.options.maxFilesize,parallelUploads:this.options.parallelUploads,autoProcessQueue:!1,uploadMultiple:!0,timeout:6e5,previewTemplate:c[0].outerHTML,previewsContainer:this.$template.find(".dropzone-previews")[0],clickable:[t,this.$template.find(".dropzone-upload-prompt")[0]],accept:function(e,t){t(),i._updatePrompt()}})),this.uploadHasError=!1,this.dropzone.on("addedfile",this._updatePrompt),this.dropzone.on("removedfile",this._updatePrompt),this.dropzone.on("maxfilesexceeded",(function(e){i.dropzone.removeFile(e)})),this.dropzone.on("error",(function(){i.uploadHasError=!0})),this.dropzone.on("complete",(function(e){e.accepted&&i.dropzone.getQueuedFiles().length>0&&i.dropzone.processQueue()})),this.dropzone.on("queuecomplete",(function(){s(),i.uploadHasError||n()}))}),[{key:"processUpload",value:function(){this.uploadHasError=!1,this.dropzone.files.forEach((function(e){e.accepted&&(e.status="queued")})),this.dropzone.processQueue()}},{key:"getAcceptedFilesCount",value:function(){return this.dropzone.getAcceptedFiles().length}},{key:"_updatePrompt",value:function(){var e=this.dropzone.files.length,t=this.dropzone.getAcceptedFiles().length,o=this.$template.find(".dropzone-prompt"),a=this.$template.find(".dropzone-upload-count"),n=this.$template.find(".dropzone-upload-prompt");0===e?o.hide():o.show(),t<this.options.maxFiles?n.show():n.hide(),a.text(s.Ru.t("stock_photos.index.dropzone.upload_count",{count:t,max:this.options.maxFiles}))}}])}();var K="_burst_sticky_override",Q=function(){return(0,d.A)((function e(t){(0,l.A)(this,e),this.parentEl=t,this.parentEl&&(this.parentEl.querySelector(".js-sticky-signup-button").addEventListener("click",(function(){window.location.href="https://accounts.shopify.com/store-create?itcat=burst&itterm=itterm=burst-sticky-pop"})),this.getUserClosed()&&this.closePopover(),this.parentEl.querySelector(".js-sticky-popover__toggle").addEventListener("click",this.togglePopover.bind(this)),this.parentEl.classList.remove("sticky-popover__hidden"))}),[{key:"closePopover",value:function(){this.parentEl.classList.remove("sticky-popover__open")}},{key:"togglePopover",value:function(){this.parentEl.classList.toggle("sticky-popover__open"),this.parentEl.classList.contains("sticky-popover__open")||this.setUserClosed()}},{key:"setUserClosed",value:function(){document.cookie="".concat(K,"=1;")}},{key:"getUserClosed",value:function(){return document.cookie.split("; ").some((function(e){return e.startsWith("".concat(K,"="))}))}}])}(),J=o("../caches/app/node_modules/clipboard/dist/clipboard.js"),Y=o.n(J),X=o("../caches/app/node_modules/dompurify/dist/purify.es.mjs");const Z=function(e){new(Y())(e,{text:function(e){var t=r()(e).data("clipboard-target-selector");return X.A.sanitize(r()(t).prop("innerHTML").trim())}}).on("success",(function(e){var t=r()(e.trigger).data("success-text");r()(e.trigger).text(t)}))};const ee=function(e,t){if(t){var o=t.outerHTML;new s.aF(e,(function(){return o}),{clickingOverlayClosesModal:!1,afterModalRender:function(e){var t=e.querySelector("form"),o=document.querySelector('meta[name="csrf-param"]').getAttribute("content"),a=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),n={};n[o]=a;var r=new V(t.querySelector(".dropzone"),t.dataset.photoSubmissionsPath,{params:function(){return n}},(function(){t.querySelector(".contributor-application-modal__form-content").classList.add("hidden"),t.querySelector(".contributor-application-modal__success-message").classList.remove("hidden")}),(function(){t.querySelector(".contributor-application-modal__form-content").classList.remove("marketing-form--is-loading"),t.querySelector(".contributor-application-modal__submit").setAttribute("disabled","false")}));new s.NY(t,[{name:"contributor_application[email]",fn:s.WQ.validateEmail},{name:"uploads_validation",fn:function(){var e={};return r.getAcceptedFilesCount()<=0&&(e.no_uploads=!0),e}},{name:"contributor_application[username]",fn:function(e){var o={};return/^\w+$/g.test(e)||(t.querySelector(".contributor-application-modal__invalid-username").classList.remove("hidden"),o.can_only_contain_numbers_letters_and_underscores=!0),o}},{name:"contributor_application[country]",fn:function(e){var o={};return"Other"===e&&(t.querySelector(".contributor-application-modal__invalid-country").classList.remove("hidden"),o.invalid_country=!0),o}},{name:"agree_to_service_terms",fn:function(e){var t={};return"0"===e&&(t.must_agree=!0),t}}],{i18nScope:"contributor_application_modal.errors",onSuccess:function(e){var o=JSON.parse(e).data.contributor_application_id;n.contributor_application_id=o,t.querySelector(".marketing-form__messages").value="",t.querySelector(".contributor-application-modal__form-content").classList.add("marketing-form--is-loading"),t.querySelector(".contributor-application-modal__submit").setAttribute("disabled","true"),r.processUpload(),trackTealium({category:"ContributorApplicationModal",action:"Submission"})}})}})}};const te=function(e,t,o){if(t){var a=t.outerHTML,n=new s.aF(e,(function(){return a}),{clickingOverlayClosesModal:!1});!0===o&&n.open()}};var oe=o("../caches/app/node_modules/masonry-layout/masonry.js"),ae=o.n(oe);const ne=function(e,t){var o=[];r()(e).each((function(e,a){o[e]=new(ae())(a,{columnWidth:t,itemSelector:t,percentPosition:!0,transitionDuration:50})})),r()(window).on("resize",s.Wp.debounce((function(){r()(o).each((function(e,t){t.layout()}))}),10))};const re=function(){N().autoDiscover=!1};const ie=function(){var e=r()('meta[name="csrf-param"]').prop("content"),t=r()('meta[name="csrf-token"]').prop("content"),o={};o[e]=t,r()(".js-author-upload").each((function(e,t){var a=r()(t),n=a.find(".dropzone")[0],i=a.data("author-photo-submissions-path"),s=a.data("author-id"),c=a.find(".js-author-upload__success-show"),l=a.find(".js-author-upload__success-hide"),d=a.find(".js-author-upload__submit");var u={params:o,maxFiles:50,parallelUploads:2};c.addClass("hidden"),o.author_id=s;var p=new V(n,i,u,(function(){l.addClass("hidden"),c.removeClass("hidden")}),(function(){d.prop("disabled",!1)}));d.on("click",(function(){p.processUpload(),d.prop("disabled",!0)}))}))};document.addEventListener("DOMContentLoaded",(function(){function e(e,t,o){var n=e?e.querySelectorAll(".js-subscribe-with-tracker"):document.querySelectorAll(".js-subscribe-with-tracker");(0,a.A)(n).forEach((function(e){new s.Jz(e,{onSuccess:function(){T.setIsSubscribedToEmailUpdate(!0),t&&t(e,T,o)}})}))}s.$W.set("customGoogleAnalyticsNamespace","_burst"),s.$W.set("defaultGoogleAnalyticsEventData",{dimension5:window.Burst.abTestGroup}),(0,s.Ts)(),(0,c.Ts)({service:"stock-photos",mode:"production",eventHandlerEndpoint:"https://www.shopify.com/__dux",enableActiveConsent:!1,enableGtm:!1,enableGtmLoader:!1,emitTrekkiePageViewEvent:!0}),re(),Z(".js-copy-to-clipboard"),ne(".js-masonry-grid",".grid__item"),ee(document.querySelectorAll(".js-open-contributor-application-modal"),document.querySelector(".js-contributor-application-modal-template")),ie(),te(document.querySelectorAll(".js-open-contributor-contest-finished-modal"),document.querySelector(".js-contributor-contest-finished-modal-template"),!1),document.querySelectorAll(".js-open-contextual-signup-modal").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),window.location.href="https://accounts.shopify.com/store-create?itcat=burst&itterm=itterm=burst-photo-page"}))})),new s.l9({pageTopMargin:30}),document.querySelector(".announcement--webinar")&&new s.ib(document.querySelector(".announcement--webinar"),{announcementId:"webinar"}),L.setReferrer(),r()(".js-track-photo-stat-click").each((function(e,t){new P(r()(t),O.TILE_CLICK)})),r()(".article-page__sidebar__sticky-menu").each((function(e,t){""===window.location.hash&&r()(t).find(".sticky-menu-link").first().addClass("js-is-active")})),r()(".js-subscribe--signup-page").each((function(e,t){r()(t).val(window.Burst.request.path)})),r()(".js-subscribe--signup-url").each((function(e,t){r()(t).val(window.Burst.request.url)})),r()(".js-subscribe--country").each((function(e,t){r()(t).val(window.Burst.country)})),r()(".js-subscribe--browser-locale").each((function(e,t){r()(t).val(navigator.language)})),r()(".js-subscribe--url-locale").each((function(e,t){r()(t).val(window.Burst.urlLocale)})),r()(".js-subscribe--external-referrer").each((function(e,t){r()(t).val(L.getExternalReferrer())})),r()(".js-subscribe--internal-referrer").each((function(e,t){r()(t).val(L.getInternalReferrer())})),r()(".subscribe__submit").on("click",(function(){trackTealium({category:"Burst",action:"subscription",label:"email"})})),e(null,S),r()(".js-scrollable-carousel").each((function(e,t){new $(r()(t))}));var t=document.querySelectorAll(".js-product-carousel");(0,a.A)(t).forEach((function(e){new s.FN(e)}));var o=document.querySelectorAll(".js-accordion");(0,a.A)(o).forEach((function(e){new s.nD(e,{mobileOnly:!1,itemSelector:".accordion-item"})}));var n=document.querySelectorAll("#DrawerNavAuthorAccordion");function l(e){var t=e.split("?"),o=new i(t[1]);o.append("quality","premium"),window.location.href="".concat(t[0],"?").concat(o.toString())}function d(e){window.location.href=e}function u(e){window.location.href=e}function p(e,t,o,a){var n=["Download",o,e];t&&n.push("Modal"),trackTealium({category:"Photo",action:n.join(": "),value:a})}function h(e,t,o){var a=["Download",e];t&&a.push("Modal"),trackTealium({category:"Business Idea",action:a.join(": "),value:o})}function m(){return T.getIsSubscribedToEmailUpdate()||!0}(0,a.A)(n).forEach((function(e){new s.nD(e,{mobileOnly:!1,openFirst:!1,itemSelector:".accordion-item"})})),r()(".js-email").each((function(e,t){var o=r()(t).data("domain")||"shopify.com",a=r()(t).data("username"),n=r()(t).data("subject"),i=r()(t).data("body");r()(t).on("click",(function(){window.location.href="mailto:".concat(a,"@").concat(o.substring(0),"?").concat(r().param({subject:n,body:i}))}))})),r()(".js-search-form").each((function(e,t){new z(r()(t))}));var f=new U(document.querySelector(".js-membership-waitlist-modal-template"));if(r()(".tile--with-overlay").each((function(e,t){new R(r()(t))})),r()(".js-download-starterkit").on("click",(function(e){e.preventDefault();var t=r()(e.currentTarget);if(T.getIsSubscribedToEmailUpdate())return h(t.data("downloadGaUiName"),!1,t.data("businessIdeaTitle")),void u(t.data("downloadUrl"));e.stopImmediatePropagation(),f.open({imageUrl:t.data("modalImageUrl"),heading:t.data("modalHeading"),successHeading:t.data("modalSuccessHeading"),cta:t.data("modalCta"),secondaryCta:!1,success:function(){h(t.data("downloadGaUiName"),!0,t.data("businessIdeaTitle")),u(t.data("downloadUrl"))}})})),r()(".js-download-premium").on("click",(function(e){var t=r()(e.currentTarget),o=t.data("photoTitle"),a=t.data("photoId");if(m())return p(t.data("downloadGaUiName"),!1,"Premium",o),void l(t.data("downloadUrl"));e.stopImmediatePropagation(),f.open({data:a,imageUrl:t.data("modalImageUrl"),heading:t.data("modalHeading"),successHeading:t.data("modalSuccessHeading"),cta:t.data("modalCta"),secondaryCta:t.data("modalSecondaryCta"),success:function(){p(t.data("downloadGaUiName"),!0,"Premium",o),l(t.data("downloadUrl"))},skipped:function(){p(t.data("downloadGaUiName"),!0,"Standard",o),d(t.data("downloadUrl"))}})})),r()(".js-track-photo-download-standard").on("click",(function(e){var t=r()(e.currentTarget);p(t.data("downloadGaUiName"),!1,"Standard",t.data("photoTitle"))})),r()(".js-download-selected-quality").on("submit",(function(e){var t=r()(e.currentTarget),o=t.find('input[name="quality"]:checked').val(),a=t.data("photoTitle");r()(".photo__centered-frame__overlay").addClass("active"),"premium"===o?m()?p(t.data("downloadGaUiName"),!1,"Premium",a):(e.preventDefault(),e.stopImmediatePropagation(),f.open({imageUrl:t.data("modalImageUrl"),heading:t.data("modalHeading"),successHeading:t.data("modalSuccessHeading"),cta:t.data("modalCta"),secondaryCta:t.data("modalSecondaryCta"),success:function(){p(t.data("downloadGaUiName"),!0,"Premium",a),l(t.attr("action"))},skipped:function(){p(t.data("downloadGaUiName"),!0,"Standard",a),d(t.attr("action"))}})):p(t.data("downloadGaUiName"),!1,"Standard",a)})),r()(".js-send-and-subscribe__submit").on("click",(function(e){var t=r()(e.currentTarget).parents(".send-and-subscribe"),o=t.find(".js-send-and-subscribe__checkbox"),a=encodeURIComponent(t.find(".send-and-subscribe__email").val()),n=encodeURIComponent(t.data("emailSubject")),i=encodeURIComponent(t.data("emailBody"));o.is(":checked")||e.preventDefault(),window.location.href="mailto:".concat(a,"?subject=").concat(n,"&body=").concat(i)})),r()(".js-contextual-subscribe-modal-template").length&&!T.getIsSubscribedToEmailUpdate()){var b=r()(".js-contextual-subscribe-modal-template").first().get(0).outerHTML,g=function(t){var o=t.currentTarget.getAttribute("data-photo-id");new s.aF([],(function(){return b}),{preventEventDefault:!1,afterModalRender:function(t){e(t,S,o)}}).open()};r()(".js-open-contextual-subscribe-modal").on("click",(function(e){g(e)})),r()(".js-open-contextual-subscribe-modal-on-third").on("click",(function(e){var t="downloads",o=new Date(Date.now()+31536e7),a=s.b4.get(t)||0;s.b4.set(t,++a,{expires:o.toUTCString(),path:"/"}),a%3!=1||T.getIsSubscribedToEmailUpdate()||g(e)}))}new Q(document.querySelector(".js-sticky-signup-popover")),r()(".js-track-visit-website").on("click",(function(e){var t=r()(e.currentTarget);trackTealium({category:"Photographer Profile",action:"Visit website",label:t.attr("data-author-name")||""})})),r()(".js-track-hire-photographer").on("click",(function(e){var t=r()(e.currentTarget);trackTealium({category:"Photographer Profile",action:"Hire Photographer",label:t.attr("data-author-name")||""})})),r()(".js-open-contextual-signup-modal").on("click",(function(){trackTealium({category:"Photo",action:"Build website"})})),r()(".js-open-signup1").on("click",(function(e){e.preventDefault();var t=r()(e.currentTarget);trackTealium({category:"Signup CTA",action:"Header",label:t.attr("data-title")||""}),window.location.href="https://accounts.shopify.com/store-create?itcat=burst&itterm=itterm=burst-sell-page"})),document.querySelectorAll(".article--index").forEach((function(e){var t=e.querySelector(".article--index__image"),o=e.querySelector(".article--index__link").href,a=e.querySelector(".article--index__link").getAttribute("data-event-label");t&&t.addEventListener("click",(function(){s.zS.track("image","click",a,void 0),window.location.href=o}))}))}))}},e=>{e.O(0,["vendors-caches_app_node_modules_jquery_dist_jquery_js","vendors-caches_app_node_modules_shopify_marketing-assets_dist_javascripts_index_js","vendors-caches_app_node_modules_buffer_index_js","vendors-caches_app_node_modules_clipboard_dist_clipboard_js-caches_app_node_modules_dropzone_-eb680a"],(()=>{return t="./app/javascripts/index.burst.js",e(e.s=t);var t}));var t=e.O();_SK=t}]);